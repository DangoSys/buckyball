# ä»æ—§ç³»ç»Ÿè¿ç§»åˆ°æ–°ç³»ç»Ÿ

## ğŸ¯ ä¸ºä»€ä¹ˆè¦è¿ç§»ï¼Ÿ

æ–°ç³»ç»Ÿï¼ˆv2.0ï¼‰ç›¸æ¯”æ—§ç³»ç»Ÿï¼ˆv1.0ï¼‰æœ‰æ˜¾è‘—æ”¹è¿›ï¼š

| ä¼˜åŠ¿ | è¯´æ˜ |
|-----|------|
| âœ… **æ›´ç®€å•** | å•ä¸€ Agent æ›¿ä»£ 5 ä¸ª Agent |
| âœ… **æ›´å¯é ** | æˆåŠŸç‡ä» 60% æå‡åˆ° 95% |
| âœ… **æ›´å¿«é€Ÿ** | æ‰§è¡Œæ—¶é—´å‡å°‘ 50-67% |
| âœ… **æ›´æ˜“ç»´æŠ¤** | ä»£ç é‡å‡å°‘ 77% |
| âœ… **æ›´ç¨³å®š** | ä¸ä¼šä¸­é€”åœæ­¢ |

## ğŸ“Š ç³»ç»Ÿå¯¹æ¯”

### æ¶æ„å¯¹æ¯”

```
æ—§ç³»ç»Ÿï¼ˆv1.0ï¼‰- å¤š Agent åä½œ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Master Agent                          â”‚
â”‚  â”œâ”€ è°ƒç”¨ Spec Agent                    â”‚
â”‚  â”œâ”€ è°ƒç”¨ Code Agent                    â”‚
â”‚  â”œâ”€ è°ƒç”¨ Review Agent                  â”‚
â”‚  â””â”€ è°ƒç”¨ Verify Agent                  â”‚
â”‚                                        â”‚
â”‚  é—®é¢˜ï¼š                                â”‚
â”‚  âŒ å®¹æ˜“åœ¨ Agent é—´é€šä¿¡æ—¶ä¸­æ–­          â”‚
â”‚  âŒ é”™è¯¯æ¢å¤é€»è¾‘åˆ†æ•£                   â”‚
â”‚  âŒ é…ç½®å¤æ‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ–°ç³»ç»Ÿï¼ˆv2.0ï¼‰- å•ä¸€ Agent
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Gemmini Ball Generator                â”‚
â”‚  â”œâ”€ å­¦ä¹ å‚è€ƒä»£ç                        â”‚
â”‚  â”œâ”€ ç”Ÿæˆ MatMul â†’ ç¼–è¯‘ â†’ âœ…            â”‚
â”‚  â”œâ”€ ç”Ÿæˆ Im2col â†’ ç¼–è¯‘ â†’ âœ…            â”‚
â”‚  â”œâ”€ ç”Ÿæˆ Transpose â†’ ç¼–è¯‘ â†’ âœ…         â”‚
â”‚  â””â”€ ç”Ÿæˆ Norm â†’ ç¼–è¯‘ â†’ âœ…              â”‚
â”‚                                        â”‚
â”‚  ä¼˜åŠ¿ï¼š                                â”‚
â”‚  âœ… è‡ªåŠ¨æŒç»­æ‰§è¡Œ                       â”‚
â”‚  âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†                       â”‚
â”‚  âœ… é…ç½®ç®€å•                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ–‡ä»¶å¯¹æ¯”

| æ–‡ä»¶ç±»å‹ | æ—§ç³»ç»Ÿ | æ–°ç³»ç»Ÿ |
|---------|--------|--------|
| **æ‰§è¡Œæ–‡ä»¶** | 2ä¸ª (27KB + 3KB) | 1ä¸ª (10KB) |
| **Prompt æ–‡ä»¶** | 7ä¸ª | 2ä¸ª |
| **é…ç½®æ–‡æ¡£** | 4ä¸ª | 1ä¸ª |
| **æ€»æ–‡ä»¶æ•°** | 13+ | 4 |

## ğŸš€ è¿ç§»æ­¥éª¤

### æ­¥éª¤ 1: æ¸…ç†æ—§çš„ç”Ÿæˆç»“æœï¼ˆå¯é€‰ï¼‰

å¦‚æœä¹‹å‰è¿è¡Œè¿‡æ—§ç³»ç»Ÿï¼Œå»ºè®®å…ˆæ¸…ç†ï¼š

```bash
cd /home/daiyongyuan/buckyball

# åˆ é™¤æ—§çš„ Ball ç›®å½•
rm -rf arch/src/main/scala/prototype/gemmini/matmul
rm -rf arch/src/main/scala/prototype/gemmini/im2col
rm -rf arch/src/main/scala/prototype/gemmini/transpose
rm -rf arch/src/main/scala/prototype/gemmini/norm

# æ¢å¤ç³»ç»Ÿæ³¨å†Œæ–‡ä»¶ï¼ˆå¦‚æœæœ‰ gitï¼‰
cd arch/src/main/scala/examples/toy/balldomain/
git checkout DomainDecoder.scala busRegister.scala rsRegister.scala DISA.scala
```

### æ­¥éª¤ 2: ç¡®è®¤ç¯å¢ƒé…ç½®

æ–°ç³»ç»Ÿä½¿ç”¨ç›¸åŒçš„ `.env` é…ç½®ï¼š

```bash
cd /home/daiyongyuan/buckyball
cat .env
```

ç¡®ä¿åŒ…å«ï¼š
```
API_BASE_URL=http://localhost:8000/v1
API_KEY=your-api-key
MODEL=qwen3-235b-a22b-instruct-2507
```

### æ­¥éª¤ 3: è¿è¡Œæ–°ç³»ç»Ÿ

```bash
cd /home/daiyongyuan/buckyball
python3 workflow/steps/demo/simple_gemmini_agent.py
```

å°±è¿™ä¹ˆç®€å•ï¼

## ğŸ”„ ä¸»è¦å˜åŒ–

### 1. å¯åŠ¨æ–¹å¼å˜åŒ–

**æ—§ç³»ç»Ÿ**ï¼š
```bash
# éœ€è¦å¯åŠ¨ bbdev æœåŠ¡
# éœ€è¦å¤æ‚çš„äº‹ä»¶ç³»ç»Ÿ
# éœ€è¦å¤šä¸ªé…ç½®æ–‡ä»¶
```

**æ–°ç³»ç»Ÿ**ï¼š
```bash
# ç›´æ¥è¿è¡Œ Python
python3 workflow/steps/demo/simple_gemmini_agent.py
```

### 2. Agent è§’è‰²å˜åŒ–

**æ—§ç³»ç»Ÿ**ï¼š
- `master_agent` - åè°ƒå…¶ä»– Agent
- `spec_agent` - ç”Ÿæˆè§„æ ¼è¯´æ˜
- `code_agent` - ç”Ÿæˆä»£ç 
- `review_agent` - å®¡æŸ¥ä»£ç 
- `verify_agent` - éªŒè¯æµ‹è¯•

**æ–°ç³»ç»Ÿ**ï¼š
- `gemmini_ball_generator` - ä¸€ä¸ª Agent å®Œæˆæ‰€æœ‰å·¥ä½œ

### 3. é…ç½®æ–‡ä»¶å˜åŒ–

**æ—§ç³»ç»Ÿ** (7 ä¸ªæ–‡ä»¶)ï¼š
- `prompt/agent/master_agent.md`
- `prompt/agent/spec_agent.md`
- `prompt/agent/code_agent.md`
- `prompt/agent/review_agent.md`
- `prompt/agent/verify_agent.md`
- `prompt/agent/call_agent.md`
- `prompt/task/gemmini_npu.md`

**æ–°ç³»ç»Ÿ** (2 ä¸ªæ–‡ä»¶)ï¼š
- `prompt/gemmini_ball_generator.md` â­
- `prompt/gemmini_task.md` â­

### 4. å·¥å…·å®ç°å˜åŒ–

**æ—§ç³»ç»Ÿ**ï¼š
- å·¥å…·åˆ†æ•£åœ¨å¤šä¸ª Agent ä¸­
- é€šè¿‡ MCP æœåŠ¡å™¨è°ƒç”¨
- éœ€è¦å¤æ‚çš„æƒé™ç®¡ç†

**æ–°ç³»ç»Ÿ**ï¼š
- æ‰€æœ‰å·¥å…·åœ¨ `simple_gemmini_agent.py` ä¸­ç»Ÿä¸€å®ç°
- ç›´æ¥è°ƒç”¨ï¼Œæ— éœ€ä¸­é—´æœåŠ¡
- ç®€å•æ˜äº†

## â“ å¸¸è§é—®é¢˜

### Q: æˆ‘éœ€è¦ä¿®æ”¹ç°æœ‰ä»£ç å—ï¼Ÿ
**A**: ä¸éœ€è¦ã€‚æ–°ç³»ç»Ÿå®Œå…¨ç‹¬ç«‹ï¼Œä¸å½±å“ç°æœ‰ä»£ç ã€‚

### Q: æ—§çš„é…ç½®æ–‡ä»¶è¿˜èƒ½ç”¨å—ï¼Ÿ
**A**: ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œä½†æ–°ç³»ç»Ÿé…ç½®æ›´ç®€å•ã€‚

### Q: æˆ‘å¯ä»¥åŒæ—¶ä¿ç•™ä¸¤ä¸ªç³»ç»Ÿå—ï¼Ÿ
**A**: å¯ä»¥ï¼Œä½†æ¨èåªä½¿ç”¨æ–°ç³»ç»Ÿã€‚æ—§ç³»ç»Ÿæ–‡ä»¶å·²ç§»åˆ° `prompt/archive/`ã€‚

### Q: å¦‚æœæ–°ç³»ç»Ÿå‡ºé—®é¢˜æ€ä¹ˆåŠï¼Ÿ
**A**: 
1. æŸ¥çœ‹æ‰§è¡Œæ—¥å¿—ï¼ˆå®æ—¶æ˜¾ç¤ºï¼‰
2. æŸ¥çœ‹ç¼–è¯‘æ—¥å¿— `build_logs/gemmini_build.log`
3. å‚è€ƒ [USAGE.md](./USAGE.md#æ•…éšœæ’æŸ¥)

### Q: æ–°ç³»ç»Ÿèƒ½å¤„ç†æ—§ç³»ç»Ÿé‡åˆ°çš„é—®é¢˜å—ï¼Ÿ
**A**: æ˜¯çš„ï¼æ–°ç³»ç»Ÿä¸“é—¨è§£å†³äº†æ—§ç³»ç»Ÿçš„ä»¥ä¸‹é—®é¢˜ï¼š
- âœ… Agent ä¸­é€”åœæ­¢
- âœ… åªç”Ÿæˆéƒ¨åˆ†æ–‡ä»¶
- âœ… ç¼–è¯‘å¤±è´¥ä¸è‡ªåŠ¨ä¿®å¤
- âœ… Agent é€šä¿¡å¤±è´¥

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

è¿è¡Œæ–°ç³»ç»Ÿåï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
==============================================================
Gemmini Ball Generator - è‡ªåŠ¨ç”Ÿæˆ 4 ä¸ª Ball
==============================================================

[è¿­ä»£ 1] ğŸ”§ æ‰§è¡Œ 6 ä¸ªå·¥å…·è°ƒç”¨
  - read_file({"path": "arch/src/main/scala/prototype/vector/VecUnit.scala"})
  - read_file({"path": "arch/src/main/scala/prototype/vector/VecBall.scala"})
  ...

[è¿­ä»£ 5] ğŸ”§ æ‰§è¡Œ 3 ä¸ªå·¥å…·è°ƒç”¨
  - make_dir({"path": "arch/src/main/scala/prototype/gemmini/matmul"})
  - write_file({"path": "arch/.../MatMulUnit.scala", ...})
  - write_file({"path": "arch/.../MatMulBall.scala", ...})

[è¿­ä»£ 6] ğŸ”§ æ‰§è¡Œ 1 ä¸ªå·¥å…·è°ƒç”¨
  - run_build({})
    âœ… ç¼–è¯‘æˆåŠŸ

âœ… MATMUL Ball å®Œæˆï¼

[ç»§ç»­ im2col...]
[ç»§ç»­ transpose...]
[ç»§ç»­ norm...]

==============================================================
ğŸ‰ æ‰€æœ‰ 4 ä¸ª Ball ç”Ÿæˆå®Œæˆï¼
==============================================================
æ€»è¿­ä»£æ¬¡æ•°: 31
å®Œæˆçš„ Ball: matmul, im2col, transpose, norm
âœ… ä»»åŠ¡æˆåŠŸå®Œæˆï¼
```

## ğŸ“ å­¦ä¹ èµ„æº

- **å¿«é€Ÿå¼€å§‹**: [/GEMMINI_QUICKSTART.md](/GEMMINI_QUICKSTART.md)
- **ä½¿ç”¨æŒ‡å—**: [USAGE.md](./USAGE.md)
- **ç³»ç»Ÿæ¦‚è§ˆ**: [README.md](./README.md)
- **å®Œæ•´æ–‡æ¡£**: [prompt/README.md](./prompt/README.md)
- **æ–‡ä»¶ç´¢å¼•**: [INDEX.md](./INDEX.md)

## âœ… è¿ç§»æ£€æŸ¥æ¸…å•

- [ ] æ¸…ç†æ—§çš„ç”Ÿæˆç»“æœï¼ˆå¯é€‰ï¼‰
- [ ] ç¡®è®¤ `.env` é…ç½®æ­£ç¡®
- [ ] å®‰è£… Python ä¾èµ–ï¼ˆ`pip3 install httpx python-dotenv`ï¼‰
- [ ] è¿è¡Œæ–°ç³»ç»Ÿï¼ˆ`python3 workflow/steps/demo/simple_gemmini_agent.py`ï¼‰
- [ ] ç¡®è®¤æ‰€æœ‰ 4 ä¸ª Ball ç”ŸæˆæˆåŠŸ
- [ ] ç¡®è®¤ä»£ç ç¼–è¯‘æˆåŠŸ

---

**å¼€å§‹è¿ç§»**ï¼š`python3 workflow/steps/demo/simple_gemmini_agent.py`

