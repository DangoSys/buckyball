[pytest]
# 测试发现
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# 输出配置
addopts =
  -v
  -s
  --tb=short
  --strict-markers
  --disable-warnings
  --color=yes
  --html=reports/report.html
  --self-contained-html
  --junit-xml=reports/junit.xml
  --log-file=reports/test.log
  --log-file-level=DEBUG
  --log-cli-level=INFO
  --capture=no

# Allure 配置（当使用 --allure 时）
# --alluredir=reports/allure-results
# --clean-alluredir

# 测试标记定义
markers =
  smoke: Quick smoke tests
  verilator: Verilator simulation tests
  vcs: VCS simulation tests

  debug: Debug tests
  fast: Fast tests

  ctest: CTest tests

# 最小版本要求
minversion = 6.0

# 测试目录
norecursedirs = .git .tox dist build *.egg .venv
